In this section instructions for the usage of the \appName\ Android application is presented. In \refer{sec:and_seturl} there is a description on how to set up the server URL, in \refer{sec:and_login} you get descriptions on how to login and \refer{sec:and_search} gives instructions on how to search for experiments.

\subsection{Setting up the server URL}\label{sec:and_seturl}
Start with selecting a server that the application will connect to by pressing the cogwheel in the top right corner seen in \refer{fig:and_login_man}. This will take you to a view where you can do any of the following:
\begin{itemize}
\item Select one of previously used server URLs 
	\begin{itemize}
	\item See \refer{fig:and_settings_man}a.
	\end{itemize}
\item Add a server URL 
	\begin{itemize}
	\item The + sign in the topright corner of \refer{fig:and_settings_man}a, will take you to the view displayed in \refer{fig:and_settings_man} B where you can add a server.
	\end{itemize}
\item Remove a server URL
	\begin{itemize}
	\item The - sign in the topright corner of \refer{fig:and_settings_man}a, will show a dialog where you can remove the selected server URL
	\end{itemize}
\item Edit an existing server URL
\begin{itemize}
	\item The Edit URL button seen in \refer{fig:and_settings_man}a, will show a dialog where you can edit the selected server URL
	\end{itemize}
\end{itemize} 
When you are satisfied with the server URL simply go back to the \term{login screen} by pressing the genomizer icon seen in the top left corner of \refer{fig:and_settings_man}a.

\subsection{Logging in}\label{sec:and_login}
In order to login to a server first make sure that the correct server is displayed. If it is, simply insert your username and password in the corresponding boxes and press the \term{sign in}. If the server is incorrect see \refer{sec:and_seturl} on how to fix it. If you don't have a username or password, the system administrator should be contacted to help with the creation of an account.

\begin{figure}[h]
\addScaledImage{0.25}{figures/and_login.png}
\caption{Login View}
\label{fig:and_login_man}
\end{figure}
\FloatBarrier

\begin{figure}[h]
\addThreeImages	{figures/and_server_settings_select.png}{a}
		{figures/and_server_settings_add.png}{b}
		{figures/and_server_settings_edit.png}{c}
\caption{Settings View}
\label{fig:and_settings_man}
\end{figure}
\FloatBarrier

\subsection{Navigation}
To navigate in the application you can open the navigation menu shown in \refer{fig:and_main_nav} by pressing the top left corner of any base view (Search and process or Active processes). In this menu you can logout or navigate to the diffent base views of the application which are described below.

\begin{figure}[h]
\addScaledImage{0.25}{figures/and_main_navigation.png}
\caption{The Navigation Menu}
\label{fig:and_main_nav}
\end{figure}
\FloatBarrier

\subsection{Search and process}\label{sec:and_search}
The search view has two tabs, one for regular searches and one for pubmed searches.
\begin{figure}[h]
\addTwoImages{figures/and_search_regular.png}{a}{figures/and_search_pubmed.png}{b}
\caption{The Search View}
\label{fig:and_search_man}
\end{figure}
\FloatBarrier

\subsubsection{Regular search}
When entering the regular search view illustrated in \refer{fig:and_search_man}a, you will be represented with a list of all
annotations that experiments in the database have. Chose which value you want for the annotation and press the checkmark next to it in order to add it to the search. Start the search of experiments with the checked annotations by pressing the \term{Search} button at the bottom of the view.

\subsubsection{Pubmed search}
When entering the pubmed search view illustrated in \refer{fig:and_search_man}b, you will be represented with a text field that you manually can fill with a pubmed query if you want to. The query can use perentheses and the logical connectives AND, OR and NOT. Start the search of experiments with the pubmed query by pressing the \term{Search} button at the bottom of the view.


\subsubsection{Search results}
After a search have been performed you will come to the search results. Here you will see a list of all experiments that have
annotations with values corresponding to the search (see \refer{fig:and_search_results_man}). To receive more information about data files that are available for each experiment you can click on each experiment in the list. This will take you to the view seen in \refer{fig:and_experiment_man}a and is described further in \refer{sec:and_experiment_file}.

\begin{figure}[h]
\addScaledImage{0.3}{figures/and_search_result.png}
\caption{The Search Results View}
\label{fig:and_search_results_man} 
\end{figure}
\FloatBarrier


\subsubsection{Search result settings}\label{sec:search_settings}
Clicking on the cogwheel button in the top right corner of the view seen in \refer{fig:and_search_results_man} will take you to the search result settings (see \refer{fig:and_search_settings_man}). Here you can Modify which annotations are presented on the experiments of the search result by marking them in the list. You can also order the experiments by one annotation in alphabetical order by chosing that annotation under the \term{Sort by} header.

\begin{figure}[ht]
\addScaledImage{0.2}{figures/and_search_select_visible_annotations.png} 
\caption{Search Settings View}
\label{fig:and_search_settings_man}
\end{figure}
\FloatBarrier


\subsubsection{Experiment file view}\label{sec:and_experiment_file}
Pressing on an experiment in the list of search result seen in \refer{fig:and_search_results_man} will take you to the experiment file view (see \refer{fig:and_experiment_man}a). You are represented with three lists of files associated to the experiment, one for each type of data file (raw, profile and region). To receive more information about a file, simply click on that file and the information seen in \refer{fig:and_experiment_man} will be shown. In the bottom there's a button \term{Go to processing} which will take you to the raw to profile processing stage described in \refer{sec:and_processing}.

\begin{figure}[h]
\addTwoImages	{figures/and_result_experiment.png}{a}
		{figures/and_experiment_file_info.png}{b}
\caption{The Experiment File View}
\label{fig:and_experiment_man}
\end{figure}
\FloatBarrier


\subsubsection{Processing}\label{sec:and_processing}
After pressing the \term{Go to processing} button seen in the bottom of \refer{fig:and_experiment_man}a which will take you to the view seen in \refer{fig:and_processing_man}. Here you can do a few things before starting the process.
\begin{itemize}
\item \term{Input file} - Chose which raw-file you want to run the processing on.
\item \term{Genome release} - Chose which genome release you want to use in the processing.
\item \term{Output file} - Chose the name of the region file that will be created by the processing.
\item \term{Parameters} - Open a dialoge where you can chose the parameters for the raw to profile processing stage called \term{bowtie}.
\item \term{Keep sam} - Check this box to keep the sam files that are created during the processing.
\item \term{green plus in top right corner} - add a file to process.
\item \term{red cross next to input file} - remove this file from beeing processed.
\item \term{Process} - starts all processing of the files that are in the list.
\end{itemize}


\begin{figure}[h]
\addScaledImage{0.3}{figures/and_processing_view.png}
\caption{The Processing View}
\label{fig:and_processing_man}
\end{figure}
\FloatBarrier

\subsection{Active processes}
The active process view, illustrated in \refer{fig:and_process_man}, is where you can see the current workload on the server. The view contains a list of tasks that has been assigned to the server. Each task contains:
\begin{itemize}
\item The name of the experiment the process is running in.
\item The author of the processing.
\item The time when the process was added.
\item The time when the process was started.
\item The the time when the process was finished. 
\item Information about the process current state:
\begin{itemize}
\item Waiting  - The task is awaiting processing by the server
\item Started  - The task is currently being processed by the server
\item Finished - The task has been completed
\item Crashed - The task was not successfully completed
\end{itemize}
\end{itemize}

To abort a running or remove a finished process you can press the red cross seen on each process. This will open a dialog where you have to confirm the removal.


\begin{figure}[h]
\addScaledImage{0.2}{figures/and_process_status.png}
\caption{ The Process View}
\label{fig:and_process_man}
\end{figure}

\FloatBarrier
